{"ast":null,"code":"import _toConsumableArray from\"/home/businka/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/portfolio/portfolio/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React,{createRef,useContext,useEffect,useMemo}from\"react\";import styles from'./header.module.scss';import{generateId}from\"../../../utils/generate-id\";import{PreloaderStore,PreloaderStoreAction}from\"../../../store/preloader-store\";import{useHandleBackgroundOnLoad}from\"../../../hooks/use-handle-background-on-load\";import headerBg from'../../../img/header.jpg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var firstRow=[{text:'H'},{text:'e'},{text:'l'},{text:'l'},{text:'o'},{className:'anim_span',text:'!'}];var secondRow=[{text:'I'},{text:''},{text:'a'},{text:'m'}];var thirdRow=[{text:'V'},{text:'a'},{text:'s'},{text:'i'},{text:'l'},{text:'k'},{text:'o'},{text:'v'},{text:''},{text:'D'},{text:'m'},{text:'i'},{text:'t'},{text:'r'},{text:'y'}];var fourthRow=[{text:'F'},{text:'r'},{text:'o'},{text:'n'},{text:'t'},{text:'e'},{text:'n'},{text:'d'},{text:'_',className:'anim_span'},{text:'d'},{text:'e'},{text:'v'},{text:'e'},{text:'l'},{text:'o'},{text:'p'},{text:'e'},{text:'r'}];var counter=0;var increment=1;export var Header=function Header(_ref){var refElement=_ref.refElement;var firstRefsCollection=useMemo(function(){return Array.from({length:6}).map(function(){return/*#__PURE__*/createRef();});},[]);var secondRefsCollection=useMemo(function(){return Array.from({length:4}).map(function(){return/*#__PURE__*/createRef();});},[]);var thirdRefsCollection=useMemo(function(){return Array.from({length:15}).map(function(){return/*#__PURE__*/createRef();});},[]);var fourthRefsCollection=useMemo(function(){return Array.from({length:18}).map(function(){return/*#__PURE__*/createRef();});},[]);var letterRefsCollection=[].concat(_toConsumableArray(firstRefsCollection),_toConsumableArray(secondRefsCollection),_toConsumableArray(thirdRefsCollection),_toConsumableArray(fourthRefsCollection));var spanAnim=function spanAnim(){if(!refElement.current)return;var coordinateTop=refElement.current.getBoundingClientRect().top;var coordinateBottom=refElement.current.getBoundingClientRect().bottom;if(coordinateBottom<100)return;if(coordinateTop<0){if(counter<letterRefsCollection.length-1){counter++;}else{counter=0;}makeAnim(counter,coordinateTop);}if(coordinateTop>=0){counter=0;letterRefsCollection.forEach(function(el){if(el.current){el.current.style.transform='translate3d(0px, 0px, 0px)';}});}};var makeAnim=function makeAnim(count,topCoordinate){if(increment===1){increment=-1;}else{increment=1;}if(letterRefsCollection[count].current){// @ts-ignore\nletterRefsCollection[count].current.style.transform=\"translate3d(\\n        \".concat(increment*topCoordinate,\"px,\\n        \").concat(topCoordinate,\"px,\\n        \").concat(topCoordinate,\"px\\n        )\");}};useEffect(function(){window.addEventListener(\"scroll\",spanAnim);return function(){return window.removeEventListener(\"scroll\",spanAnim);};},[]);var _useContext=useContext(PreloaderStore),dispatch=_useContext.dispatch;useHandleBackgroundOnLoad([headerBg],function(){return dispatch({type:PreloaderStoreAction.SAFE_SRR_LOADED_RESOURCE});});return/*#__PURE__*/_jsxs(\"header\",{id:\"start\",ref:refElement,\"data-render\":true,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.span_classes,children:firstRow.map(function(el,idx){return/*#__PURE__*/_jsx(\"span\",{ref:firstRefsCollection[idx],className:el.className||'',children:el.text},generateId(10));})}),/*#__PURE__*/_jsx(\"div\",{className:styles.span_classes,children:secondRow.map(function(el,idx){return/*#__PURE__*/_jsx(\"span\",{ref:secondRefsCollection[idx],children:el.text},generateId(10));})}),/*#__PURE__*/_jsx(\"div\",{className:styles.span_classes+' '+styles.colored,children:thirdRow.map(function(el,idx){return/*#__PURE__*/_jsx(\"span\",{ref:thirdRefsCollection[idx],children:el.text},generateId(10));})}),/*#__PURE__*/_jsx(\"div\",{className:styles.span_classes,children:fourthRow.map(function(el,idx){return/*#__PURE__*/_jsx(\"span\",{ref:fourthRefsCollection[idx],className:el.className||'',children:el.text},generateId(10));})})]});};","map":{"version":3,"sources":["/home/businka/Рабочий стол/portfolio/portfolio/src/pages/main-page/header/index.tsx"],"names":["React","createRef","useContext","useEffect","useMemo","styles","generateId","PreloaderStore","PreloaderStoreAction","useHandleBackgroundOnLoad","headerBg","firstRow","text","className","secondRow","thirdRow","fourthRow","counter","increment","Header","refElement","firstRefsCollection","Array","from","length","map","secondRefsCollection","thirdRefsCollection","fourthRefsCollection","letterRefsCollection","spanAnim","current","coordinateTop","getBoundingClientRect","top","coordinateBottom","bottom","makeAnim","forEach","el","style","transform","count","topCoordinate","window","addEventListener","removeEventListener","dispatch","type","SAFE_SRR_LOADED_RESOURCE","span_classes","idx","colored"],"mappings":"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","sourcesContent":["import React, {createRef, useContext, useEffect, useMemo} from \"react\";\nimport styles from './header.module.scss';\nimport {generateId} from \"../../../utils/generate-id\";\nimport {IWithRefChildren} from \"../index\";\nimport {PreloaderStore, PreloaderStoreAction} from \"../../../store/preloader-store\";\nimport {useHandleBackgroundOnLoad} from \"../../../hooks/use-handle-background-on-load\";\nimport headerBg from '../../../img/header.jpg';\n\nconst firstRow = [\n    {text: 'H'},\n    {text: 'e'},\n    {text: 'l'},\n    {text: 'l'},\n    {text: 'o'},\n    {className: 'anim_span', text: '!'}\n];\n\nconst secondRow = [{text: 'I'}, {text: ''}, {text: 'a'}, {text: 'm'}];\nconst thirdRow = [{text: 'V'},{text: 'a'},{text: 's'},{text: 'i'},{text: 'l'},{text: 'k'},{text: 'o'},{text: 'v'},\n    {text: ''},{text: 'D'},{text: 'm'},{text: 'i'},{text: 't'},{text: 'r'},{text: 'y'},];\n\nconst fourthRow = [{text: 'F'},{text: 'r'},{text: 'o'},{text: 'n'},{text: 't'},{text: 'e'},{text: 'n'},\n    {text: 'd'},{text: '_', className: 'anim_span'},{text: 'd'},{text: 'e'},{text: 'v'},{text: 'e'},{text: 'l'},{text: 'o'},\n    {text: 'p'},{text: 'e'},{text: 'r'}]\n\nlet counter = 0;\nlet increment = 1;\nexport const Header: React.FC<IWithRefChildren> = ({refElement}) => {\n\n\n    const firstRefsCollection: Array<React.RefObject<HTMLDivElement>> = useMemo(\n        () => Array.from({ length: 6 }).map(() => createRef()),\n        []\n    );\n    const secondRefsCollection: Array<React.RefObject<HTMLDivElement>> = useMemo(\n        () => Array.from({ length: 4 }).map(() => createRef()),\n        []\n    );\n    const thirdRefsCollection: Array<React.RefObject<HTMLDivElement>> = useMemo(\n        () => Array.from({ length: 15 }).map(() => createRef()),\n        []\n    );\n    const fourthRefsCollection: Array<React.RefObject<HTMLDivElement>> = useMemo(\n        () => Array.from({ length: 18 }).map(() => createRef()),\n        []\n    );\n\n    const letterRefsCollection = [...firstRefsCollection, ...secondRefsCollection, ...thirdRefsCollection, ...fourthRefsCollection];\n\n    const spanAnim = () => {\n        if(!refElement.current) return;\n        const coordinateTop = refElement.current.getBoundingClientRect().top;\n        const coordinateBottom = refElement.current.getBoundingClientRect().bottom;\n\n        if(coordinateBottom < 100) return;\n\n        \n        if (coordinateTop < 0) {\n            if (counter < letterRefsCollection.length - 1) {\n                counter++;\n            } else {\n                counter = 0;\n            }\n\n            makeAnim(counter, coordinateTop);\n        }\n\n        if (coordinateTop >= 0) {\n            counter = 0;\n            letterRefsCollection.forEach(el => {\n                if(el.current) {\n                    el.current.style.transform = 'translate3d(0px, 0px, 0px)'\n                }\n            })\n        }\n    }\n\n    const  makeAnim = (count: number, topCoordinate: number) => {\n        if (increment === 1) {\n            increment = -1;\n        } else {\n            increment = 1;\n        }\n\n        if(letterRefsCollection[count].current) {\n            // @ts-ignore\n            letterRefsCollection[count].current.style.transform = `translate3d(\n        ${increment * topCoordinate}px,\n        ${topCoordinate}px,\n        ${topCoordinate}px\n        )`;\n        }\n    }\n\n    useEffect(() => {\n        window.addEventListener(\"scroll\", spanAnim);\n        return () => window.removeEventListener(\"scroll\", spanAnim);\n    }, [])\n\n    const {dispatch} = useContext(PreloaderStore);\n    useHandleBackgroundOnLoad([headerBg], () => dispatch({type: PreloaderStoreAction.SAFE_SRR_LOADED_RESOURCE}))\n\n    return <header id='start' ref={refElement} data-render={true}>\n        <div className={styles.span_classes}>\n            {firstRow.map((el, idx) => <span ref={firstRefsCollection[idx]} className={el.className || ''} key={generateId(10)}>{el.text}</span>)}\n        </div>\n\n        <div className={styles.span_classes}>\n            {secondRow.map((el, idx) => <span ref={secondRefsCollection[idx]} key={generateId(10)}>{el.text}</span>)}\n        </div>\n\n        <div className={styles.span_classes + ' ' + styles.colored}>\n            {thirdRow.map((el, idx) => <span ref={thirdRefsCollection[idx]} key={generateId(10)}>{el.text}</span>)}\n\n        </div>\n        <div className={styles.span_classes}>\n            {fourthRow.map((el, idx) => <span ref={fourthRefsCollection[idx]} className={el.className || ''} key={generateId(10)}>{el.text}</span>)}\n\n        </div>\n    </header>\n}"]},"metadata":{},"sourceType":"module"}