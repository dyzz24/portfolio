{"ast":null,"code":"import React,{createRef,useContext,useEffect,useMemo}from\"react\";import'./skills.scss';import{useUnobserve}from\"../../../hooks/use-unobserve\";import{PreloaderStore,PreloaderStoreAction}from\"../../../store/preloader-store\";import{useHandleBackgroundOnLoad}from\"../../../hooks/use-handle-background-on-load\";import tsPng from'../../../img/ts.png';import reactPng from'../../../img/react.png';import angularPng from'../../../img/angular.png';import jsPng from'../../../img/ts.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var skillsConfig=[{name:'React / Redux / Effector',percent:85},{name:'STYLED COMPONENTS / SCSS',percent:85},{name:'JS / TS',percent:80},{name:'Angular 5+ / RXJS',percent:60},{name:'Git / Gulp / WebPack',percent:70},{name:'ES6+',percent:85}];var observer=null;export var Skills=function Skills(_ref){var refElement=_ref.refElement;var refSkillElementsCollection=useMemo(function(){return Array.from({length:skillsConfig.length}).map(function(){return/*#__PURE__*/createRef();});},[]);useUnobserve(refSkillElementsCollection,observer);var _useContext=useContext(PreloaderStore),dispatch=_useContext.dispatch;useHandleBackgroundOnLoad([tsPng,angularPng,reactPng,jsPng],function(){return dispatch({type:PreloaderStoreAction.SAFE_SRR_LOADED_RESOURCE});});useEffect(function(){if(refSkillElementsCollection.length){if(!!window.IntersectionObserver){observer=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry,idx){if(entry.isIntersecting){var percent=entry.target.getAttribute('data-percent');requestAnimationFrame(function(){var target=entry.target;target.style.width=percent+'%';});}else{requestAnimationFrame(function(){var target=entry.target;target.style.width='0%';});}});},{rootMargin:\"0px 0px -100px 0px\"});refSkillElementsCollection.forEach(function(parentElement){if(parentElement.current){var _observer;(_observer=observer)===null||_observer===void 0?void 0:_observer.observe(parentElement.current);}});}}},[refSkillElementsCollection.length]);return/*#__PURE__*/_jsxs(\"section\",{className:\"my_skills\",ref:refElement,children:[/*#__PURE__*/_jsx(\"div\",{className:\"all_skills\",children:skillsConfig.sort(function(a,b){return b.percent-a.percent;}).map(function(el,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"skills_row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"name\",children:el.name}),/*#__PURE__*/_jsx(\"div\",{className:\"progress_bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"fill\",\"data-percent\":el.percent,ref:refSkillElementsCollection[idx]})}),/*#__PURE__*/_jsx(\"span\",{children:el.percent+'%'})]},el.name);})}),/*#__PURE__*/_jsx(\"div\",{className:\"right_skills_block\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"graph_triangle triangle_anim\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"side html5\",\"data-render\":true}),/*#__PURE__*/_jsx(\"div\",{className:\"side ang\",\"data-render\":true}),/*#__PURE__*/_jsx(\"div\",{className:\"side js\",\"data-render\":true}),/*#__PURE__*/_jsx(\"div\",{className:\"side css3\",\"data-render\":true})]})})]});};","map":{"version":3,"sources":["/home/businka/Рабочий стол/portfolio/portfolio/src/pages/main-page/skills/index.tsx"],"names":["React","createRef","useContext","useEffect","useMemo","useUnobserve","PreloaderStore","PreloaderStoreAction","useHandleBackgroundOnLoad","tsPng","reactPng","angularPng","jsPng","skillsConfig","name","percent","observer","Skills","refElement","refSkillElementsCollection","Array","from","length","map","dispatch","type","SAFE_SRR_LOADED_RESOURCE","window","IntersectionObserver","entries","forEach","entry","idx","isIntersecting","target","getAttribute","requestAnimationFrame","style","width","rootMargin","parentElement","current","observe","sort","a","b","el"],"mappings":"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","sourcesContent":["import React, {createRef, useContext, useEffect, useMemo} from \"react\";\nimport './skills.scss';\nimport {useUnobserve} from \"../../../hooks/use-unobserve\";\nimport {IWithRefChildren} from \"../index\";\nimport {PreloaderStore, PreloaderStoreAction} from \"../../../store/preloader-store\";\nimport {useHandleBackgroundOnLoad} from \"../../../hooks/use-handle-background-on-load\";\nimport tsPng from '../../../img/ts.png';\nimport reactPng from '../../../img/react.png';\nimport angularPng from '../../../img/angular.png';\nimport jsPng from '../../../img/ts.png';\n\n\nconst skillsConfig = [{\n    name: 'React / Redux / Effector',\n    percent: 85\n},\n    {\n        name: 'STYLED COMPONENTS / SCSS',\n        percent: 85\n    },\n    {\n        name: 'JS / TS',\n        percent: 80\n    },\n    {\n        name: 'Angular 5+ / RXJS',\n        percent: 60\n    },\n    {\n        name: 'Git / Gulp / WebPack',\n        percent: 70\n    },\n    {\n        name: 'ES6+',\n        percent: 85\n    }\n]\n\n\nlet observer: IntersectionObserver | null = null;\nexport const Skills: React.FC<IWithRefChildren> = ({refElement}) => {\n\n    const refSkillElementsCollection: Array<React.RefObject<HTMLDivElement>> = useMemo(\n        () => Array.from({ length: skillsConfig.length }).map(() => createRef()),\n        []\n    );\n\n    useUnobserve(refSkillElementsCollection, observer);\n\n    const {dispatch} = useContext(PreloaderStore);\n    useHandleBackgroundOnLoad([tsPng, angularPng, reactPng, jsPng], () => dispatch({type: PreloaderStoreAction.SAFE_SRR_LOADED_RESOURCE}));\n\n    useEffect(() => {\n        if(refSkillElementsCollection.length) {\n            if(!!window.IntersectionObserver) {\n                observer = new IntersectionObserver((entries, observer) => {\n                    entries.forEach((entry, idx) => {\n                        if(entry.isIntersecting){\n                            const percent = entry.target.getAttribute('data-percent');\n                            requestAnimationFrame(() => {\n                                const target = entry.target as HTMLDivElement;\n                                target.style.width = percent + '%';\n                            })\n\n                        } else {\n                            requestAnimationFrame(() => {\n                                const target = entry.target as HTMLDivElement;\n                                target.style.width = '0%';\n                            })\n                        }\n                    });\n                }, {rootMargin: \"0px 0px -100px 0px\"});\n                refSkillElementsCollection.forEach((parentElement) => {\n                    if(parentElement.current) {\n                        observer?.observe(parentElement.current)\n                    }\n                });\n\n            }\n        }\n    }, [refSkillElementsCollection.length])\n\n    return <section className=\"my_skills\" ref={refElement}>\n        <div className=\"all_skills\">\n        {skillsConfig\n            .sort((a, b) => b.percent - a.percent)\n            .map((el, idx) =>\n            <div className=\"skills_row\" key={el.name}>\n            <div className=\"name\">{el.name}</div>\n            <div className=\"progress_bar\">\n                <div className=\"fill\" data-percent={el.percent} ref={refSkillElementsCollection[idx]}></div>\n            </div>\n            <span>{el.percent + '%'}</span>\n        </div>)}\n        </div>\n        <div className=\"right_skills_block\">\n            <div className=\"graph_triangle triangle_anim\">\n                <div className=\"side html5\" data-render={true}></div>\n                <div className=\"side ang\" data-render={true}></div>\n                <div className=\"side js\" data-render={true}>\n                </div>\n                <div className=\"side css3\" data-render={true}></div>\n            </div>\n        </div>\n    </section>\n}"]},"metadata":{},"sourceType":"module"}