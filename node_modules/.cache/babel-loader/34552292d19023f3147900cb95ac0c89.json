{"ast":null,"code":"import _slicedToArray from\"/home/businka/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/portfolio/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import{FRRImg}from\"../FRRImg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var calculateCurrentStep=function calculateCurrentStep(step,arrLength){var currentStep=step%arrLength;if(currentStep===0)return 0;else if(currentStep<0)return arrLength+currentStep;else return step>0?Math.abs(currentStep):arrLength-1+currentStep;};var touchDirection=0;export var Slider=function Slider(_ref){var slides=_ref.slides;var moveSliderRef=useRef(null);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),step=_useState2[0],setStep=_useState2[1];var handleClick=function handleClick(value){var currentStep=calculateCurrentStep(step+value,slides.length);setStep(currentStep);};var touchStartEvent=function touchStartEvent(e){touchDirection=e.touches[0].clientX;};var touchMoveEvent=function touchMoveEvent(e){if(!touchDirection)return;var currentTouch=e.touches[0].clientX;var direction=touchDirection-currentTouch;if(direction>0){handleClick(1);}else{handleClick(-1);}touchDirection=0;};useEffect(function(){requestAnimationFrame(function(){if(moveSliderRef.current)moveSliderRef.current.style.transform=\"translateX(\".concat(-step*100,\"%)\");});},[step]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"slider_block\",onTouchStart:touchStartEvent,onTouchMove:touchMoveEvent,children:[slides.length>1&&/*#__PURE__*/_jsx(\"div\",{className:\"slider__control_left\",onClick:function onClick(){return handleClick(-1);},children:/*#__PURE__*/_jsx(\"svg\",{width:\"22\",height:\"40\",viewBox:\"0 0 22 40\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{className:\"anim_svg\",fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M21.1945 1.55546C20.1206 0.481514 18.3794 0.481514 17.3055 1.55546L0.805457 18.0555C-0.268485 19.1294 -0.268485 20.8706 0.805457 21.9445L17.3055 38.4445C18.3794 39.5185 20.1206 39.5185 21.1945 38.4445C22.2685 37.3706 22.2685 35.6294 21.1945 34.5555L6.63909 20L21.1945 5.44454C22.2685 4.3706 22.2685 2.6294 21.1945 1.55546Z\",fill:\"white\",fillOpacity:\"0\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"slider_wrapper\",ref:moveSliderRef,children:slides.map(function(el,idx){return/*#__PURE__*/_jsx(FRRImg,{alt:'slide',src:el,className:\"slid\"},el);})}),slides.length>1&&/*#__PURE__*/_jsx(\"div\",{className:\"slider__control_right\",onClick:function onClick(){return handleClick(1);},children:/*#__PURE__*/_jsx(\"svg\",{width:\"22\",height:\"40\",viewBox:\"0 0 22 40\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{className:\"anim_svg\",fillRule:\"evenodd\",clipRule:\"evenodd\",d:\"M0.805456 1.55546C1.8794 0.481514 3.6206 0.481514 4.69454 1.55546L21.1945 18.0555C22.2685 19.1294 22.2685 20.8706 21.1945 21.9445L4.69454 38.4445C3.6206 39.5185 1.8794 39.5185 0.805456 38.4445C-0.268486 37.3706 -0.268486 35.6294 0.805456 34.5555L15.3609 20L0.805456 5.44454C-0.268486 4.3706 -0.268486 2.6294 0.805456 1.55546Z\",fill:\"white\",fillOpacity:\"0\"})})})]}),slides.length>1&&/*#__PURE__*/_jsx(\"div\",{className:\"slider__btn_block\",children:slides.map(function(el,idx){return/*#__PURE__*/_jsx(\"div\",{className:\"slider_btn   \".concat(idx===step?'active':''),onClick:function onClick(){return setStep(idx);}},idx);})})]});};","map":{"version":3,"sources":["/home/businka/Рабочий стол/portfolio/portfolio/src/components/slider/index.tsx"],"names":["React","useEffect","useRef","useState","FRRImg","calculateCurrentStep","step","arrLength","currentStep","Math","abs","touchDirection","Slider","slides","moveSliderRef","setStep","handleClick","value","length","touchStartEvent","e","touches","clientX","touchMoveEvent","currentTouch","direction","requestAnimationFrame","current","style","transform","map","el","idx"],"mappings":"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","sourcesContent":["import React, {useEffect, useReducer, useRef, useState} from \"react\";\nimport {FRRImg} from \"../FRRImg\";\n\n\nconst calculateCurrentStep = (step: number, arrLength: number) => {\n    const currentStep: number = step % arrLength;\n    if (currentStep === 0) return 0;\n    else if (currentStep < 0) return arrLength + currentStep;\n    else return step > 0 ? Math.abs(currentStep) : arrLength - 1 + currentStep;\n};\n\nlet touchDirection = 0;\nexport const Slider: React.FC<ISlider> = ({slides}) => {\n\n    const moveSliderRef = useRef<HTMLDivElement | null>(null)\n    const [step, setStep] = useState(0);\n\n    const handleClick = (value: number) => {\n        const currentStep = calculateCurrentStep(step + value, slides.length);\n        setStep(currentStep);\n    };\n    \n    const touchStartEvent = (e: React.TouchEvent<HTMLDivElement>) => {\n        touchDirection = e.touches[0].clientX;\n    }\n\n    const touchMoveEvent = (e: React.TouchEvent<HTMLDivElement>) => {\n        if(!touchDirection) return;\n        const currentTouch = e.touches[0].clientX;\n        const direction = touchDirection - currentTouch;\n        if(direction > 0) {\n            handleClick(1)\n        } else {\n            handleClick(-1)\n        }\n        touchDirection = 0;\n    }\n\n    useEffect(() => {\n        requestAnimationFrame(() => {\n            if (moveSliderRef.current)\n                moveSliderRef.current.style.transform = `translateX(${-step * 100}%)`;\n        });\n    }, [step]);\n\n    return <>\n        <div className=\"slider_block\" onTouchStart={touchStartEvent} onTouchMove={touchMoveEvent}>\n            {slides.length > 1 && <div className=\"slider__control_left\" onClick={() => handleClick(-1)}>\n                <svg width=\"22\" height=\"40\" viewBox=\"0 0 22 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path className='anim_svg' fillRule=\"evenodd\" clipRule=\"evenodd\"\n                          d=\"M21.1945 1.55546C20.1206 0.481514 18.3794 0.481514 17.3055 1.55546L0.805457 18.0555C-0.268485 19.1294 -0.268485 20.8706 0.805457 21.9445L17.3055 38.4445C18.3794 39.5185 20.1206 39.5185 21.1945 38.4445C22.2685 37.3706 22.2685 35.6294 21.1945 34.5555L6.63909 20L21.1945 5.44454C22.2685 4.3706 22.2685 2.6294 21.1945 1.55546Z\"\n                          fill=\"white\" fillOpacity=\"0\"/>\n                </svg>\n            </div>}\n            <div className=\"slider_wrapper\" ref={moveSliderRef}>\n                {slides.map((el, idx) => <FRRImg key={el} alt={'slide'}  src={el} className=\"slid\" />)}\n\n            </div>\n            {slides.length > 1 && <div className=\"slider__control_right\" onClick={() => handleClick(1)}>\n                <svg width=\"22\" height=\"40\" viewBox=\"0 0 22 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path className='anim_svg' fillRule=\"evenodd\" clipRule=\"evenodd\"\n                          d=\"M0.805456 1.55546C1.8794 0.481514 3.6206 0.481514 4.69454 1.55546L21.1945 18.0555C22.2685 19.1294 22.2685 20.8706 21.1945 21.9445L4.69454 38.4445C3.6206 39.5185 1.8794 39.5185 0.805456 38.4445C-0.268486 37.3706 -0.268486 35.6294 0.805456 34.5555L15.3609 20L0.805456 5.44454C-0.268486 4.3706 -0.268486 2.6294 0.805456 1.55546Z\"\n                          fill=\"white\" fillOpacity=\"0\"/>\n                </svg>\n            </div>}\n        </div>\n\n        {slides.length > 1 && <div className=\"slider__btn_block\">\n            {slides.map((el, idx) => <div key={idx} className={`slider_btn   ${idx === step ? 'active' : ''}`} onClick={() => setStep(idx)}/>)}\n        </div>}\n    </>\n}\n\ninterface ISlider {\n    slides: string[];\n}"]},"metadata":{},"sourceType":"module"}